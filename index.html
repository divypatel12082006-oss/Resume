import { useState, useEffect } from "react";

export default function App() {
  const [dark, setDark] = useState(false);

  useEffect(() => {
    document.title = "Divy Patel | Portfolio Resume";

    const sections = document.querySelectorAll("section");
    const onScroll = () => {
      sections.forEach(sec => {
        if (sec.getBoundingClientRect().top < window.innerHeight - 100) {
          sec.classList.add("show");
        }
      });
    };

    window.addEventListener("scroll", onScroll);
    onScroll();
    return () => window.removeEventListener("scroll", onScroll);
  }, []);

  const sendMsg = e => {
    e.preventDefault();
    alert("Message sent! Backend ready for integration.");
  };

  return (
    <div className={dark ? "dark" : ""}>
      <style>{css}</style>

      <button className="toggle" onClick={() => setDark(!dark)}>
        {dark ? "‚òÄÔ∏è" : "üåô"}
      </button>

      <header>
        <h1>Divy Patel</h1>
        <p>Java Developer | Computer Science Student</p>
        <a className="btn" href="/resume.pdf" download>
          Download Resume
        </a>
      </header>

      <section>
        <h2>About Me</h2>
        <p>
          Motivated Java developer with strong problem-solving skills,
          clean coding practices, and interest in scalable software systems.
        </p>
      </section>

      <section>
        <h2>Skills</h2>
        <ul>
          <li>Java, C</li>
          <li>OOP & Data Structures</li>
          <li>HTML, CSS, JavaScript</li>
          <li>Git & GitHub</li>
        </ul>
      </section>

      <section>
        <h2>Projects</h2>
        <div className="card">
          <h3>Roman Numeral Converter</h3>
          <p>Efficient Java logic to convert Roman numerals.</p>
        </div>
        <div className="card">
          <h3>Marks Conversion System</h3>
          <p>Java program for grading & percentage calculation.</p>
        </div>
      </section>

      <section>
        <h2>Portfolio</h2>
        <div className="gallery">
          <div>Project UI 1</div>
          <div>Project UI 2</div>
          <div>Project UI 3</div>
        </div>
      </section>

      <section>
        <h2>Blog & Articles</h2>
        <div className="card">
          <h3>Java OOP Explained</h3>
          <p>Simple explanation of OOP concepts.</p>
        </div>
        <div className="card">
          <h3>Logic Building Tips</h3>
          <p>How to think like a programmer.</p>
        </div>
      </section>

      <section>
        <h2>Contact</h2>
        <form onSubmit={sendMsg}>
          <input placeholder="Name" required />
          <input type="email" placeholder="Email" required />
          <textarea rows="5" placeholder="Message" required />
          <button>Send Message</button>
        </form>
      </section>

      <footer>
        <p>¬© 2026 Divy Patel | Portfolio Website</p>
      </footer>
    </div>
  );
}

const css = `
:root{
 --primary:#2f2f2f;
 --secondary:#ff8c00;
 --bg:#f5f5f5;
 --text:#2f2f2f;
 --card:#ffffff;
}
.dark{
 --bg:#121212;
 --text:#f5f5f5;
 --card:#1f1f1f;
}
body{
 margin:0;
 font-family:Segoe UI,sans-serif;
 background:var(--bg);
 color:var(--text);
 transition:.4s;
}
header,footer{
 background:var(--primary);
 color:white;
 text-align:center;
 padding:50px 20px;
}
header p{color:var(--secondary);}
.btn{
 background:var(--secondary);
 color:white;
 padding:12px 25px;
 border-radius:6px;
 text-decoration:none;
 font-weight:bold;
 display:inline-block;
 margin-top:15px;
}
.toggle{
 position:fixed;
 top:15px;
 right:15px;
 background:var(--secondary);
 color:white;
 border:none;
 padding:10px;
 border-radius:50%;
 cursor:pointer;
}
section{
 max-width:1000px;
 margin:auto;
 padding:60px 20px;
 opacity:0;
 transform:translateY(40px);
 transition:.8s;
}
section.show{opacity:1;transform:none;}
h2{
 border-left:6px solid var(--secondary);
 padding-left:12px;
}
.card{
 background:var(--card);
 padding:20px;
 margin:20px 0;
 border-left:6px solid var(--secondary);
 border-radius:6px;
 box-shadow:0 5px 15px rgba(0,0,0,.1);
}
ul{list-style:none;padding:0;}
ul li{
 background:#e0e0e0;
 padding:12px;
 margin:10px 0;
 border-left:6px solid var(--secondary);
}
.dark ul li{background:#2a2a2a;}
.gallery{
 display:grid;
 grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
 gap:15px;
}
.gallery div{
 background:var(--card);
 padding:20px;
 text-align:center;
 border-radius:6px;
 border-left:6px solid var(--secondary);
}
form input,textarea{
 width:100%;
 padding:12px;
 margin:10px 0;
 border-radius:5px;
 border:1px solid #ccc;
}
form button{
 background:var(--secondary);
 color:white;
 border:none;
 padding:12px 20px;
 border-radius:5px;
 cursor:pointer;
}
`;
